FROM rust:1.70

ARG ROUGHENOUGH_FEATURES="default"

COPY roughenough .
COPY run.sh .

RUN cargo build --release --features ${ROUGHENOUGH_FEATURES}

ENV ROUGHENOUGH_PORT 2002
ENV ROUGHENOUGH_INTERFACE 0.0.0.0
ENV ROUGHENOUGH_SEED ec200e6187a007ed736659c4f3b79c18855473774abf8ea310ea24acb8493f4d

EXPOSE 2002/udp 
